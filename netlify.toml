[build]
  command = "npm install && npm run build"
  publish = ".next"

[build.environment]
  # Node version compatible with Next.js 14
  NODE_VERSION = "18"

  # Disable Netlify's smart secret scan (it falsely flags Firebase SDK files)
  SECRETS_SCAN_SMART_DETECTION_ENABLED = "false"
  # Optional: explicitly omit common Firebase key prefix from scanning
  SECRETS_SCAN_SMART_DETECTION_OMIT_VALUES = "AIza"

  # Optional: reduce Next.js telemetry noise in logs
  NEXT_TELEMETRY_DISABLED = "1"

# Explicitly include the Next.js plugin (Netlify will auto-detect too, but this is safe)
[[plugins]]
  package = "@netlify/plugin-nextjs"
